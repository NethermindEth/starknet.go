# TipAndResourcesHash

import { Callout } from 'vocs/components'

<Callout type="warning">
  **Internal Helper Function**: This is a low-level utility used internally by V3 transaction hash functions. Most developers should use [TransactionHashInvokeV3](./transaction-hash-invoke-v3), [TransactionHashDeclareV3](./transaction-hash-declare-v3), or [TransactionHashDeployAccountV3](./transaction-hash-deploy-account-v3) instead.
</Callout>

Calculates the tip and resource bounds hash component for V3 transactions. This internal helper function computes the hash of tip and resource bounds (L1 gas, L2 gas, L1 data gas) for V3 transaction hash calculations.

## Function Signature

```go
func TipAndResourcesHash(
    tip uint64,
    resourceBounds *rpc.ResourceBoundsMapping,
) (*felt.Felt, error)
```

**Source:** [hash.go:L757-L787](https://github.com/NethermindEth/starknet.go/blob/main/hash/hash.go#L757-L787)

## Parameters

- `tip` (uint64): Additional fee tip for the transaction
- `resourceBounds` (*rpc.ResourceBoundsMapping): Resource bounds mapping containing L1Gas, L2Gas, and L1DataGas bounds

## Returns

- `*felt.Felt`: The calculated tip and resources hash
- `error`: Error if resource bounds are nil or conversion fails

## Usage Example

```go
package main

import (
    "fmt"
    "log"

    "github.com/NethermindEth/juno/core/felt"
    "github.com/NethermindEth/starknet.go/hash"
    "github.com/NethermindEth/starknet.go/rpc"
)

func main() {
    // This is an internal helper - typically you would use specific V3 transaction hash functions
    // Example usage for educational purposes:

    tip := uint64(1000)
    resourceBounds := &rpc.ResourceBoundsMapping{
        L1Gas: rpc.ResourceBounds{
            MaxAmount:       new(felt.Felt).SetUint64(1000),
            MaxPricePerUnit: new(felt.Felt).SetUint64(100),
        },
        L2Gas: rpc.ResourceBounds{
            MaxAmount:       new(felt.Felt).SetUint64(2000),
            MaxPricePerUnit: new(felt.Felt).SetUint64(50),
        },
        L1DataGas: rpc.ResourceBounds{
            MaxAmount:       new(felt.Felt).SetUint64(500),
            MaxPricePerUnit: new(felt.Felt).SetUint64(200),
        },
    }

    tipAndResourcesHash, err := hash.TipAndResourcesHash(tip, resourceBounds)
    if err != nil {
        log.Fatal(err)
    }

    fmt.Printf("Tip and Resources Hash: %s\n", tipAndResourcesHash.String())
}
```

## Common Use Cases

This internal function is commonly used for:

- Computing the resource bounds component when calculating V3 invoke transaction hashes in transaction signing workflows.
- Generating the tip and resource hash component for V3 declare transactions when preparing contract declarations with custom resource limits.
- Calculating the resource bounds hash for V3 deploy account transactions to ensure proper fee estimation during account creation.
- Implementing custom transaction hash calculation tools that need to break down V3 transaction hash computation into component parts.
- Building transaction analysis systems that separately compute and validate resource bounds hashes to verify transaction fee structures.

