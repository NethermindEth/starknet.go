# EncodeData

Encodes typed data into an array of felt values according to SNIP-12 encoding rules.

## Function Signature

```go
func EncodeData(
	typeDef *TypeDefinition,
	td *TypedData,
	context ...string,
) (enc []*felt.Felt, err error)
```

**Source:** [typedData.go:L456-L487](https://github.com/NethermindEth/starknet.go/blob/main/typeddata/typedData.go#L456-L487)

## Parameters

- `typeDef` (*TypeDefinition): The type definition to encode
- `td` (*TypedData): The TypedData instance containing the message
- `context` (...string): Optional context path for nested encoding

## Returns

- `[]*felt.Felt`: Array of encoded felt values
- `error`: Error if encoding fails

## Usage Example

```go
package main

import (
	"encoding/json"
	"fmt"
	"log"

	"github.com/NethermindEth/starknet.go/typeddata"
)

func main() {
	// Create TypedData from JSON
	typedDataJSON := []byte(`{
		"types": {
			"StarkNetDomain": [
				{"name": "name", "type": "felt"},
				{"name": "chainId", "type": "felt"}
			],
			"Message": [
				{"name": "value", "type": "felt"}
			]
		},
		"primaryType": "Message",
		"domain": {"name": "Test", "chainId": "1"},
		"message": {"value": "0x123"}
	}`)

	var td typeddata.TypedData
	json.Unmarshal(typedDataJSON, &td)

	// Get type definition
	typeDef := td.Types["Message"]

	// Encode the message data
	encoded, err := typeddata.EncodeData(&typeDef, &td)
	if err != nil {
		log.Fatalf("Encoding failed: %v", err)
	}

	fmt.Printf("Encoded values: %d felts\n", len(encoded))
	for i, felt := range encoded {
		fmt.Printf("  [%d]: %s\n", i, felt.String())
	}
}
```

## Common Use Cases

- **Custom Hash Computation**: Encode data for manual hash calculations
- **Debugging**: Inspect encoded felt values to understand SNIP-12 encoding
- **Advanced Workflows**: Build custom signing flows with low-level encoding control
- EncodeData handles special cases like domain encoding with both chainId and chain_id field names
