# NewFixedSizeMerkleTree

Creates a new fixed-size Merkle tree from a set of leaves.

## Function Signature

```go
func NewFixedSizeMerkleTree(leaves ...*big.Int) *FixedSizeMerkleTree
```

## Parameters

- `leaves` (...*big.Int): Variable number of big.Int leaves

## Returns

- `*FixedSizeMerkleTree`: A pointer to the constructed Merkle tree

## Type Definition

```go
type FixedSizeMerkleTree struct {
    Leaves   []*big.Int      // The leaf nodes
    Branches [][]*big.Int    // Internal branch nodes by level
    Root     *big.Int        // The root hash
}
```

## Description

NewFixedSizeMerkleTree constructs a complete Merkle tree from the given leaves. It builds all intermediate branch nodes and calculates the root hash. The tree structure is stored for efficient proof generation.

## Usage Example

```go
package main

import (
	"fmt"
	"math/big"

	"github.com/NethermindEth/starknet.go/merkle"
)

func main() {
	// Create leaves for the tree
	leaf1 := big.NewInt(10)
	leaf2 := big.NewInt(20)
	leaf3 := big.NewInt(30)
	leaf4 := big.NewInt(40)

	// Create a fixed-size Merkle tree
	tree := merkle.NewFixedSizeMerkleTree(leaf1, leaf2, leaf3, leaf4)

	fmt.Println("FixedSizeMerkleTree:")
	fmt.Printf("  Number of leaves: %d\n", len(tree.Leaves))
	fmt.Printf("  Root: %s\n", tree.Root.String())
	fmt.Printf("  Number of branch levels: %d\n", len(tree.Branches))
}
```

## Expected Output

```
FixedSizeMerkleTree:
  Number of leaves: 4
  Root: 3289236780871467278066969017419911418936258725212665349707673738908324835498
  Number of branch levels: 2
```

## Use Cases

### 1. Build State Tree
```go
// Create state tree from account hashes
accountHashes := []*big.Int{hash1, hash2, hash3, hash4}
stateTree := merkle.NewFixedSizeMerkleTree(accountHashes...)
stateRoot := stateTree.Root
```

### 2. Transaction Tree
```go
// Build transaction Merkle tree for a block
txHashes := []*big.Int{tx1Hash, tx2Hash, tx3Hash}
txTree := merkle.NewFixedSizeMerkleTree(txHashes...)
```

### 3. Generate Proofs
```go
// Create tree and generate proof
tree := merkle.NewFixedSizeMerkleTree(leaves...)
proof, err := tree.Proof(targetLeaf)
```

## Notes

- Tree is built immediately upon construction
- All leaves must be provided at creation time
- The tree size is fixed after construction
- Use the Proof method to generate membership proofs

## Related Functions

- [MerkleHash](/docs/merkle/functions/merkle-hash) - Hash function used internally
- [Proof (method)](/docs/merkle/functions/proof) - Generate proofs from the tree
