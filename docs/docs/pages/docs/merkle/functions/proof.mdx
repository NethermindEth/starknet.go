# Proof (Method)

Generates a Merkle proof for a given leaf in the tree.

## Method Signature

```go
func (mt *FixedSizeMerkleTree) Proof(leaf *big.Int) ([]*big.Int, error)
```

## Parameters

- `leaf` (*big.Int): The leaf for which to generate the proof

## Returns

- `[]*big.Int`: The Merkle proof (path of sibling nodes)
- `error`: Error if leaf is not found or proof generation fails

## Description

The Proof method calculates the Merkle proof path for a specific leaf in the tree. The proof consists of the sibling nodes needed to reconstruct the path from the leaf to the root, allowing efficient verification of membership.

## Usage Example

```go
package main

import (
	"fmt"
	"math/big"

	"github.com/NethermindEth/starknet.go/merkle"
)

func main() {
	// Create tree
	leaf1 := big.NewInt(10)
	leaf2 := big.NewInt(20)
	leaf3 := big.NewInt(30)
	leaf4 := big.NewInt(40)

	tree := merkle.NewFixedSizeMerkleTree(leaf1, leaf2, leaf3, leaf4)

	// Generate proof for leaf2
	proof, err := tree.Proof(leaf2)
	if err != nil {
		fmt.Printf("Error: %v\n", err)
		return
	}

	fmt.Printf("Proof for leaf 20: %d elements\n", len(proof))
	for i, p := range proof {
		fmt.Printf("  Proof[%d]: %s\n", i, p.String())
	}
}
```

## Expected Output

```
Proof for leaf 20: 2 elements
  Proof[0]: 10
  Proof[1]: 3104345415605024337662882416612641469622494170969484172691694512090555203806
```

## Use Cases

### 1. Generate Account Proof
```go
accountTree := merkle.NewFixedSizeMerkleTree(accountHashes...)
proof, err := accountTree.Proof(targetAccountHash)
// Send proof to light client for verification
```

### 2. Storage Proof Generation
```go
storageTree := merkle.NewFixedSizeMerkleTree(storageValues...)
proof, _ := storageTree.Proof(storageSlotValue)
```

### 3. Verify with ProofMerklePath
```go
proof, err := tree.Proof(leaf)
if err == nil {
    isValid := merkle.ProofMerklePath(tree.Root, leaf, proof)
}
```

## Notes

- Returns error if leaf is not found in the tree
- Proof size is log2(n) where n is the number of leaves
- The proof can be verified using ProofMerklePath
- Proof elements are ordered from leaf to root

## Related Functions

- [ProofMerklePath](/docs/merkle/functions/proof-merkle-path) - Verify generated proofs
- [NewFixedSizeMerkleTree](/docs/merkle/functions/new-fixed-size-merkle-tree) - Create the tree
